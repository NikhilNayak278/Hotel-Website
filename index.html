<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NN Residency — Home</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <section class="nav-bar">
    <header class="nowrap">
      <h1 style="text-align: center;">NN Residency</h1>
    </header>
    <nav>
      <ul class="list">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="album/album.html">Photos</a></li>
        <li><a href="calc/calculator.html">Menu calculator</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </section>

  <main>
    <section class="hero">
      <div class="hero-content">
        <h2>Welcome to NN Residency</h2>
        <p>Comfortable stays, delicious local cuisine and warm hospitality in the heart of Bengaluru. Explore our rooms, daily menu and photo gallery below.</p>
        <a class="primary-btn" href="calc/calculator.html" role="button">See Menu & Prices</a>
      </div>
      <figure class="hero-figure" aria-hidden="true">
        <img src="images/desk.png" alt="Hotel exterior at dusk">
      </figure>
    </section>

    <section class="intro article">
      <h2>About Our Hotel</h2>
      <p>NN Residency offers clean comfortable rooms, a friendly staff and a small in-house kitchen serving regional favorites. Whether you're here for business or leisure, enjoy free Wi‑Fi, easy access to local transport and a relaxed atmosphere.</p>
    </section>

    <section class="menu-section article" aria-labelledby="menu-heading">
      <h2 id="menu-heading">Our Menu (Sample Images)</h2>

      <div class="menu-gallery" role="list">
        <figure role="listitem">
          <img src="images/menu1.png" alt="Menu item 1 - savory starter">
          <figcaption>Starter — Crispy Veg Fritters</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu2.png" alt="Menu item 2 - soup">
          <figcaption>Soup — Tomato Basil</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu3.png" alt="Menu item 3 - main course">
          <figcaption>Main — Butter Chicken</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu4.png" alt="Menu item 4 - rice dish">
          <figcaption>Rice — Vegetable Biryani</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu5.png" alt="Menu item 5 - bread">
          <figcaption>Breads — Garlic Naan</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu6.png" alt="Menu item 6 - salad">
          <figcaption>Salad — Garden Fresh</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu7.png" alt="Menu item 7 - dessert">
          <figcaption>Dessert — Gulab Jamun</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu8.png" alt="Menu item 8 - beverage">
          <figcaption>Beverage — Masala Chai</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu9.png" alt="Menu item 9 - snack">
          <figcaption>Snack — Samosa Plate</figcaption>
        </figure>

        <figure role="listitem">
          <img src="images/menu10.png" alt="Menu item 10 - chef special">
          <figcaption>Chef Special — Paneer Tikka</figcaption>
        </figure>
      </div>
    </section>

    <section class="qna-section article" aria-labelledby="qna-heading">
      <h2 id="qna-heading">Ask Us Anything</h2>
      <p>Have questions about our hotel, menu, or services? Ask away and get instant answers!</p>
      
      <form class="qna-form" action="#" method="post" novalidate>
        <fieldset>
          <legend class="sr-only">Question and Answer Form</legend>
          
          <div class="input-group">
            <label for="question-input">Your Question:</label>
            <input 
              type="text" 
              id="question-input" 
              name="question" 
              placeholder="e.g., What time is breakfast served? What are your room rates?"
              required 
              aria-required="true"
            />
          </div>
          
          <div class="button-group">
            <button type="submit" id="ask-btn">Ask Question</button>
            <button type="reset">Clear</button>
          </div>
        </fieldset>
      </form>
      
      <div class="answer-section" id="answer-section" style="display: none;">
        <h3>Answer:</h3>
        <div class="answer-content" id="answer-content"></div>
      </div>
    </section>

    <section class="article">
      <h2>Visit Us</h2>
      <p>Located at R V Vidyanikethan Post, Mysuru Road, Bengaluru — close to major bus routes. For reservations call +91 123456788 or use our contact page.</p>
    </section>
  </main>

  <footer class="nowrap footer">
    <p>&copy; 2025 NN Residency. All rights reserved.</p>
  </footer>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const form = document.querySelector(".qna-form");
      const questionInput = document.getElementById("question-input");
      const answerSection = document.getElementById("answer-section");
      const answerContent = document.getElementById("answer-content");

      form.addEventListener("submit", async function(event) {
        event.preventDefault();
        const question = questionInput.value.trim();
        if (!question) {
          alert("Please enter a question.");
          return;
        }

        // Show loading state
        answerContent.textContent = "Loading...";
        answerSection.style.display = "block";

        try {
          const response = await fetch("http://localhost:8000/rag", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({ query: question })
          });

          if (!response.ok) {
            throw new Error(`Error: ${response.statusText}`);
          }

          const data = await response.json();
          answerContent.textContent = data.answer || "No answer found.";
        } catch (error) {
          console.error("Error fetching answer:", error);
          answerContent.textContent = "Sorry, there was an error processing your request.";
        }
      });

      form.addEventListener("reset", function() {
        answerSection.style.display = "none";
        answerContent.textContent = "";
      });
    });
  </script>
</body>
</html>